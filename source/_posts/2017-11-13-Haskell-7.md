---
title: Haskell 7 Create new Types and Typeclass
date: 2017-11-13 11:22:24
tags: [haskell, fp]
---

> Taking Notes from http://learnyouahaskell.com

<!--more-->
# Algebraic Data Types

## Option 1: data
data ValueName = ValueConstructor
```haskell
data Bool = False | True
data Shape = Circle Float Float Float | Rectangle Float Float Float Float
```
*Shape* is type, but *Circle* is not.
[]、False 或 5，它们都是不包含参数的值构造子

```bash
ghci> :t Circle
Circle :: Float -> Float -> Float -> Shape
```

### Example
```haskell
surface :: Shape -> Float
surface (Circle _ _ r) = pi * r ^ 2
surface (Rectangle x1 y1 x2 y2) = (abs $ x2 - x1) * (abs $ y2 - y1)
```

### deriving
```haskell
data Point = Point Float Float deriving (Show)
data Shape = Circle Point Float | Rectangle Point Point deriving (Show)

surface :: Shape -> Float
surface (Circle _ r) = pi * r ^ 2
surface (Rectangle (Point x1 y1) (Point x2 y2)) = (abs $ x2 - x1) * (abs $ y2 - y1)

surface (Rectangle (Point 0 0) (Point 100 100))
```

### Export in module
```haskell
module Shapes
( Point(..)
, Shape(..)
, surface
, nudge
, baseCircle
, baseRect
) where
```
.. means exports all of *Value Contructors*

## Options 2: Record Syntax

```haskell
data Car = Car {company :: String, model :: String, year :: Int} deriving (Show)

ghci> Car {company="Ford", model="Mustang", year=1967}
Car {company = "Ford", model = "Mustang", year = 1967}
```

## Options 3: Type parameters
```haskell
data Maybe a = Nothing | Just a
```
- *a* is Type Parameter
- *Maybe* is Type Constructor
- *Maybe String* is Type

> Haskell 中有一个严格的约定，那就是永远不要在 data 声明中添加类型约束

## Options 4: Derived instances

```haskell
data Day = Monday | Tuesday | Wednesday | Thursday | Friday | Saturday | Sunday
           deriving (Eq, Ord, Show, Read, Bounded, Enum)

-- Show and Red instance
ghci> Wednesday
Wednesday
ghci> show Wednesday
"Wednesday"
ghci> read "Saturday" :: Day
Saturday

-- Eq and Ord instance
ghci> Saturday == Saturday
True
ghci> Saturday > Friday
True

-- Bounded instance
ghci> succ Monday
Tuesday
ghci> pred Saturday
Friday
ghci> [Thursday .. Sunday]
[Thursday,Friday,Saturday,Sunday]
ghci> [minBound .. maxBound] :: [Day]
[Monday,Tuesday,Wednesday,Thursday,Friday,Saturday,Sunday]
```

## Options 5: Type Synonyms
```haskell
type String = [Char]
```

